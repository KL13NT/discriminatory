(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{160:function(e,t,r){"use strict";r.r(t);var n=r(35),a=r.n(n),c=r(16),l=r.n(c),o=r(3),s=r.n(o),i=r(0),u=r.n(i),d=r(86),p=r(146),f=r(13),b=r(71),m=r(29),O=r(87),E=r(57),w=r(30),g=r(85),j=r(51);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(){var e=u.a.createElement(f.a,{id:"states.emptyexplore.description"}),t=u.a.createElement(f.a,{id:"states.emptyexplore.title"});return u.a.createElement(w.d,{title:t,subtitle:e})},P=function(){var e=u.a.createElement(f.a,{id:"states.feedend.description"}),t=u.a.createElement(f.a,{id:"states.feedend.title"});return u.a.createElement(w.d,{title:t,subtitle:e})},x=function(e){var t=e.posts,r=e.resPosts;return 0===t.length&&0===r.length?u.a.createElement(v,null):t.length>0&&0===r.length?u.a.createElement(P,null):null};t.default=function(){var e=Object(b.a)().formatMessage,t=Object(i.useState)([]),r=s()(t,2),n=r[0],c=r[1],l=Object(i.useState)({before:null}),o=s()(l,2),f=o[0],h=o[1],v=Object(m.c)({query:O.c,variables:y({},f),requestPolicy:"cache-first"}),P=s()(v,2),k=P[0],D=P[1];Object(i.useEffect)((function(){k.data&&c([].concat(a()(n),a()(k.data.explore)))}),[k.data]);var S=Object(i.useCallback)((function(){window.scrollY+window.innerHeight>document.body.clientHeight-100&&!k.fetching&&k.data.explore.length>0&&h({before:n[n.length-1]._id})}),[k,n]);return Object(i.useEffect)((function(){return window.addEventListener("scroll",S),function(){return window.removeEventListener("scroll",S)}}),[k,S]),k.error?u.a.createElement(w.d,{code:Object(g.c)(k.error)}):k.data?u.a.createElement(u.a.Fragment,null,u.a.createElement(j.a,{title:"titles.explore",description:"titles.explore.description",path:"/explore"}),u.a.createElement(d.a,null,e({id:"titles.explore"})),u.a.createElement(p.a,{feedRes:k,reFeed:D,posts:n,feedResPosts:k.data.explore,setPosts:c}),k.fetching?u.a.createElement(E.b,null):null,u.a.createElement(x,{posts:n,resPosts:k.data.explore})):u.a.createElement(E.b,null)}}}]);